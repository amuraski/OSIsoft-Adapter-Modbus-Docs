<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>System components configuration </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="System components configuration ">
    <meta name="generator" content="docfx 2.48.1.0">
    
    <link rel="shortcut icon" href="../../../../favicon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../../toc.html">
    <meta property="docfx:tocrel" content="../../../toc.html">
    
    <meta property="docfx:rel" content="../../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../../../../V1/index.html" width="46">
                <img id="logo" src="../../../../V1/main/V1/images/atlas_icon.png" height="46" width="46" alt="OSIsoft Edge System"> 
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="SystemComponentsConfiguration">
<h1 id="system-components-configuration">System components configuration</h1>

<p>OSIsoft adapters use JSON configuration files in a protected directory on Windows and Linux to store configuration that is read on startup. While the files are accessible to view, OSIsoft recommends that you use REST or the edgecmd command line tool for any changes you make to the files. </p>
<p>As part of making adapters as secure as possible, any passwords or secrets that you configure are stored in encrypted form (with cryptographic key material stored separately in a secure location.) If you edit the files directly, the adapter may not work as expected.</p>
<p><strong>Note:</strong> You can edit any single component or facet of the system using REST, but also configure the system as a whole with a single REST call.</p>
<h2 id="configure-system-components">Configure system components</h2>
<p>The default <em>System_Components.json</em> file for the System component contains the following information. </p>
<pre><code class="lang-json">[
  {
    &quot;ComponentId&quot;: &quot;OmfEgress&quot;,
    &quot;ComponentType&quot;: &quot;OmfEgress&quot;
  }
]
</code></pre><p> <strong>Note:</strong> The OmfEgress component is required for this initial release for adapters to run. You can add additional components if you want, but only a single OmfEgress component is supported. </p>
<p>Complete the following procedure to add a new component:</p>
<ol>
<li><p>Using any text editor, create a file that contains the system components configuration in JSON form.</p>
<ul>
<li><p>For content structure, see <a href="#system-components-example">System components example</a>.</p>
<p>The following example adds a Modbus TCP adapter. </p>
<pre><code class="lang-json">{
  &quot;ComponentId&quot;: &quot;Modbus1&quot;,
  &quot;ComponentType&quot;: &quot;Modbus&quot;
}
</code></pre><p><strong>Note:</strong> A unique ComponentId is necessary for each component in the system. This example uses the ComponentId Modbus1 since it is the first Modbus TCP adapter:</p>
</li>
</ul>
</li>
<li><p>Save the file, for example as <em>AddComponent.json</em>.</p>
</li>
<li><p>Use any of the <a class="xref" href="Configuration%20tools.html">Configuration tools</a> capable of making HTTP requests to execute a POST command with the contents of that file to the following endpoint: <code>http://localhost:5590/api/v1/configuration/system/components</code></p>
<p> Example using curl (run this command from the same directory where the file is located):</p>
<pre><code class="lang-bash">curl -i -d &quot;@AddComponent.json&quot; -H &quot;Content-Type: application/json&quot; http://localhost:5590/api/v1/configuration/system/components
</code></pre><p> After the curl command completes successfully, you can configure or use the new component.</p>
</li>
</ol>
<h3 id="delete-a-system-component">Delete a system component</h3>
<p>Complete the following procedure to delete an existing component:</p>
<ol>
<li>Start any tool capable of making HTTP requests.</li>
<li><p>Execute a DELETE command to the following endpoint, replacing <code>&lt;ComponentId To Delete&gt;</code> with the ID of the component that you want to delete, for example OpcUa1: <code>http://localhost:5590/api/v1/configuration/system/components/&lt;ComponentId_To_Delete&gt;/</code></p>
<p> Example using curl:</p>
<pre><code class="lang-bash">curl -X DELETE http://localhost:5595/api/v1/configuration/system/components/{ComponentId_To_Delete}/
</code></pre><p> All the logs and configurations files for the deleted components will be moved to the corresponding <em>logs/Removed</em> or <em>Configuration/Removed</em> folder.</p>
</li>
</ol>
<h2 id="system-components-schema">System components schema</h2>
<p>The following table defines the basic behavior of the <em>System_Components_schema.json</em> file.</p>
<table>
<thead>
<tr>
<th>Abstract</th>
<th>Extensible</th>
<th>Status</th>
<th>Identifiable</th>
<th>Custom properties</th>
<th>Additional properties</th>
</tr>
</thead>
<tbody>
<tr>
<td>Can be instantiated</td>
<td>Yes</td>
<td>Experimental</td>
<td>No</td>
<td>Forbidden</td>
<td>Forbidden</td>
</tr>
</tbody>
</table>
<p>The full schema definition for the system components configuration is in the <em>System_Components_schema.json</em> located here:</p>
<p>Windows: <em>%Program Files%\OSIsoft\Adapters\AdapterName\Schemas</em></p>
<p>Linux: <em>/opt/OSIsoft/Adapters/AdapterName/Schemas</em></p>
<h2 id="system-components-parameters">System components parameters</h2>
<p>The following parameters are available for configuring system components.</p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Required</th>
<th>Type</th>
<th>Nullable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ComponentId</strong></td>
<td>Required</td>
<td><code>string</code></td>
<td>Yes</td>
<td>The ID of the component. It can be any alphanumeric string, for example OmfEgress.</td>
</tr>
<tr>
<td><strong>ComponentType</strong></td>
<td>Required</td>
<td><code>string</code></td>
<td>Yes</td>
<td>The type of the component, for example OmfEgress. There are two types of components: OmfEgress and the adapter.</td>
</tr>
</tbody>
</table>
<h2 id="system-components-example">System components example</h2>
<pre><code class="lang-json">[
  {
                &quot;componentId&quot;: &quot;Modbus1&quot;,
                &quot;componentType&quot;: &quot;Modbus&quot;
            },
            {
                &quot;componentId&quot;: &quot;Modbus2&quot;,
                &quot;componentType&quot;: &quot;Modbus&quot;
            },
            {
                &quot;ComponentId&quot;: &quot;OmfEgress&quot;,
                &quot;ComponentType&quot;: &quot;OmfEgress&quot;
   }
]
</code></pre></article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/osisoft/OSIsoft-Adapter/blob/master/V1/Configuration/System components configuration.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
            <span id='copyright-text'>© 2019 - OSIsoft, LLC.<span>
        </span></span></div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
