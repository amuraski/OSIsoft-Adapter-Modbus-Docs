<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>OSIsoft Adapter for Modbus TCP principles of operation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="OSIsoft Adapter for Modbus TCP principles of operation ">
    <meta name="generator" content="docfx 2.49.0.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../../V1/index.html" width="46">
                <img id="logo" src="../../V1/main/V1/images/atlas_icon.png" height="46" width="46" alt="OSIsoft Edge System"> 
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="OSIsoftAdapterForModbusTCPPrinciplesOfOperation">
<h1 id="osisoft-adapter-for-modbus-tcp-principles-of-operation">OSIsoft Adapter for Modbus TCP principles of operation</h1>

<p>This adapters&#39;s operations focus on data collection and streams creation.</p>
<h2 id="adapter-configuration">Adapter configuration</h2>
<p>In order for the Modbus TCP adapter to be ready for data collection, you need to configure the adapter by defining the following:</p>
<ul>
<li>Data source: Provide the data source from which the adapter should collect data.</li>
<li>Data selection: Perform selection of Modbus TCP items to which the adapter should subscribe for data.</li>
<li>Logging: Set up the logging attributes to manage the adapter logging behavior.</li>
</ul>
<p>For more details, see <a class="xref" href="../Configuration/OSIsoft%20Adapter%20for%20Modbus%20TCP%20data%20source%20configuration.html">OSIsoft Adapter for Modbus TCP data source configuration</a> and <a class="xref" href="../Configuration/OSIsoft%20Adapter%20for%20Modbus%20TCP%20data%20selection%20configuration.html">OSIsoft Adapter for Modbus TCP data selection configuration</a>.</p>
<h2 id="connection">Connection</h2>
<p>The Modbus TCP adapter communicates with the Modbus TCP devices through the TCP/IP network by sending request packets that are constructed based on the data selection configurations, and collects the response packets returned by the devices. </p>
<h2 id="stream-creation">Stream creation</h2>
<p>From the parsed data selection configurations, the Modbus TCP adapter creates types, streams and data based on the information provided. For each measurement in the data selection configuration, a stream is created to store time series data.</p>
<h2 id="data-collection">Data collection</h2>
<p>The Modbus TCP adapter collects data from the Modbus TCP devices at the polling rates that you specify. The rates are set in each of the data selection configurations and can range from 0 milliseconds (as fast as possible) up to 1 day per polling. The adapter automatically optimizes the data collection process by grouping the requests to reduce the I/O load imposed to the Modbus TCP networks.</p>
<h3 id="data-types">Data types</h3>
<p>The Modbus TCP adapter converts readings from single or multiple registers into the data types specified by the data type code and populates the value into streams.</p>
<p>The following table lists all data types with their corresponding type codes supported by the Modbus TCP adapter.</p>
<table>
<thead>
<tr>
<th>Data type code</th>
<th>Data type name</th>
<th>Value type</th>
<th>Register type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Boolean</td>
<td>Bool</td>
<td>Bool</td>
<td>0 = false <br> 1 = true</td>
</tr>
<tr>
<td>10</td>
<td>Int16</td>
<td>Int16</td>
<td>Bool/16-bit</td>
<td>Read 1 Modbus TCP register and interpret as a 16-bit integer. Bytes [BA] read from the device are stored as [AB].</td>
</tr>
<tr>
<td>20</td>
<td>UInt16</td>
<td>UInt16</td>
<td>Bool/16-bit</td>
<td>Read 1 Modbus TCP register and interpret as an unsigned 16-bit integer. Bytes [BA] read from the device are stored as [AB].</td>
</tr>
<tr>
<td>30</td>
<td>Int32</td>
<td>Int32</td>
<td>16-bit/32-bit</td>
<td>Read 32 bits from the Modbus TCP device and interpret as a 32-bit integer. Bytes [DCBA] read from the device are stored as [ABCD].</td>
</tr>
<tr>
<td>31</td>
<td>Int32ByteSwap</td>
<td>Int32</td>
<td>16-bit/32-bit</td>
<td>Read 32 bits from the Modbus TCP device and interpret as a 32-bit integer. Bytes [BADC] read from the device are stored as [ABCD].</td>
</tr>
<tr>
<td>100</td>
<td>Float32</td>
<td>Float32</td>
<td>16-bit/32-bit</td>
<td>Read 32 bits from the Modbus TCP device and interpret as a 32-bit float. Bytes [DCBA] read from the device are stored as [ABCD].</td>
</tr>
<tr>
<td>101</td>
<td>Float32ByteSwap</td>
<td>Float32</td>
<td>16-bit/32-bit</td>
<td>Read 32 bits from the Modbus TCP device and interpret as a 32-bit float. Bytes [BADC] read from the device are stored as [ABCD].</td>
</tr>
<tr>
<td>110</td>
<td>Float64</td>
<td>Float64</td>
<td>16-bit/32-bit</td>
<td>Read 64 bits from the Modbus TCP device and interpret as a 64-bit float. Bytes [HGFEDCBA] read from the device are stored as [ABCDEFGH].</td>
</tr>
<tr>
<td>111</td>
<td>Float64ByteSwap</td>
<td>Float64</td>
<td>16-bit/32-bit</td>
<td>Read 64 bits from the Modbus TCP device and interpret as a 64-bit float. Bytes [BADCFEHG] read from the device are stored as [ABCDEFGH].</td>
</tr>
<tr>
<td>1001 - 1250</td>
<td>String</td>
<td>String</td>
<td>16-bit/32-bit</td>
<td>1001 reads a one-character string, 1002 reads a two-character string, and 1003 reads a three-character string and so on. Bytes [AB] are interpreted as &quot;AB&quot;.</td>
</tr>
<tr>
<td>2001 - 2250</td>
<td>StringByteSwap</td>
<td>String</td>
<td>16-bit/32-bit</td>
<td>2001 reads a one-character string, 2002 reads a two-character string, and 2003 reads a three-character string and so on. Bytes [BA] are interpreted as &quot;AB&quot;.</td>
</tr>
</tbody>
</table>
<h2 id="streams-by-modbus-tcp-adapter">Streams by Modbus TCP adapter</h2>
<p>For each data selection configuration, the Modbus TCP adapter creates a stream with two properties. The properties are described in the following table:</p>
<table>
<thead>
<tr>
<th>Property name</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Timestamp</td>
<td>String</td>
<td>The response time of the stream data from the Modbus TCP device.</td>
</tr>
<tr>
<td>Value</td>
<td>Specified by the data selection</td>
<td>The value of the stream data from the Modbus TCP device.</td>
</tr>
</tbody>
</table>
<p>There is a unique identifier (Stream ID) for each stream created for the selected measurement. If a custom stream ID is specified for the measurement in the data selection configuration, the Modbus TCP adapter will use that stream ID to create the stream. Otherwise, the connector constructs the stream ID using the following format: </p>
<pre><code>&lt;Adapter Component ID&gt;.&lt;Unit ID&gt;.&lt;Register Type&gt;.&lt;Register Offset&gt; 
</code></pre><p><strong>Note:</strong> Naming convention is affected by StreamIdPrefix and ApplyPrefixToStreamID settings in data source configuration. For more information, see <a class="xref" href="../Configuration/OSIsoft%20Adapter%20for%20Modbus%20TCP%20data%20source%20configuration.html">OSIsoft Adapter for Modbus TCP data source configuration</a>.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/osisoft/OSIsoft-Adapter-Modbus-Docs/blob/master/V1/OSIsoft Adapter for Modbus TCP overview/OSIsoft Adapter for Modbus TCP principles of operation.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
            <span id='copyright-text'>© 2020 - OSIsoft, LLC.<span>
        </span></span></div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
